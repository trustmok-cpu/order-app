# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프런트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgresSQL

## 3. 기본사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면 PRD

### 4.1 화면 개요
사용자가 커피 메뉴를 선택하고 장바구니에 담아 주문할 수 있는 메인 화면입니다.

### 4.2 화면 구성

#### 4.2.1 헤더 영역
- **위치**: 화면 상단
- **구성 요소**:
  - **로고**: 왼쪽에 "COZY" 텍스트가 들어간 다크 그린 배경의 박스
  - **주문하기 버튼**: 로고 오른쪽에 위치 (현재 화면이므로 활성화 상태)
  - **관리자 버튼**: 주문하기 버튼 오른쪽에 위치 (관리자 화면으로 이동)

#### 4.2.2 메뉴 아이템 영역
- **위치**: 헤더 아래, 화면 중앙
- **레이아웃**: 메뉴 카드들이 가로로 배치 (반응형으로 조정 가능)
- **메뉴 카드 구성 요소**:
  1. **메뉴 이미지**: 상단에 위치한 이미지 영역 (플레이스홀더 또는 실제 이미지)
  2. **메뉴명**: 이미지 아래에 표시 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
  3. **가격**: 메뉴명 아래에 표시 (예: "4,000원", "5,000원")
  4. **설명**: 가격 아래에 간단한 설명 텍스트 (예: "간단한 설명...")
  5. **옵션 선택**:
     - 체크박스 형태의 옵션들
     - 각 옵션은 옵션명과 추가 가격을 표시 (예: "샷 추가 (+500원)", "시럽 추가 (+0원)")
     - 여러 옵션을 동시에 선택 가능
  6. **담기 버튼**: 카드 하단에 위치한 회색 버튼 ("담기" 텍스트)

#### 4.2.3 장바구니 영역
- **위치**: 화면 하단
- **구성 요소**:
  1. **장바구니 제목**: "장바구니" 텍스트
  2. **장바구니 아이템 목록**:
     - 각 아이템은 메뉴명, 선택된 옵션, 수량, 가격을 표시
     - 형식: "메뉴명 (옵션명) X 수량" + "가격원"
     - 예: "아메리카노(ICE) (샷 추가) X 1" + "4,500원"
  3. **총 금액**: 
     - 오른쪽에 "총 금액" 레이블과 함께 굵은 글씨로 표시
     - 장바구니 내 모든 아이템의 합계 금액
  4. **주문하기 버튼**: 총 금액 아래에 위치한 회색 버튼 ("주문하기" 텍스트)

### 4.3 기능 요구사항

#### 4.3.1 메뉴 조회
- 서버에서 메뉴 목록을 조회하여 화면에 표시
- 각 메뉴는 이미지, 이름, 가격, 설명, 옵션 정보를 포함

#### 4.3.2 옵션 선택
- 사용자는 각 메뉴의 옵션을 체크박스로 선택/해제 가능
- 옵션 선택 시 추가 가격이 반영됨
- 여러 옵션을 동시에 선택 가능

#### 4.3.3 장바구니 기능
- **담기**: 메뉴 카드의 "담기" 버튼 클릭 시 장바구니에 추가
  - 선택된 옵션이 있으면 함께 저장
  - 동일한 메뉴와 옵션 조합이 이미 장바구니에 있으면 수량 증가
  - 다른 옵션 조합이면 별도 아이템으로 추가
- **수량 표시**: 각 아이템의 수량을 표시
- **가격 계산**: 
  - 각 아이템의 가격 = (기본 가격 + 선택된 옵션 가격 합계) × 수량
  - 총 금액 = 모든 아이템 가격의 합계
- **실시간 업데이트**: 장바구니에 아이템이 추가되면 즉시 화면에 반영

#### 4.3.4 주문하기
- 장바구니에 아이템이 있을 때만 "주문하기" 버튼 활성화
- "주문하기" 버튼 클릭 시:
  - 장바구니의 모든 아이템을 주문으로 전송
  - 주문 성공 시 장바구니 초기화
  - 주문 완료 메시지 표시 (선택 사항)

#### 4.3.5 화면 이동
- "관리자" 버튼 클릭 시 관리자 화면으로 이동

### 4.4 사용자 플로우

1. 사용자가 주문하기 화면에 진입
2. 메뉴 목록이 화면에 표시됨
3. 사용자가 원하는 메뉴를 선택
4. 필요시 옵션을 선택 (샷 추가, 시럽 추가 등)
5. "담기" 버튼 클릭하여 장바구니에 추가
6. 장바구니에 추가된 아이템 확인 및 총 금액 확인
7. 추가 주문이 있으면 3-5번 반복
8. "주문하기" 버튼 클릭하여 주문 완료

### 4.5 UI/UX 요구사항

#### 4.5.1 디자인
- 깔끔하고 미니멀한 디자인
- 흰색 배경에 다크 그레이 텍스트와 아웃라인
- "COZY" 로고는 다크 그린 배경 사용
- 버튼은 회색 계열 사용

#### 4.5.2 반응형
- 메뉴 카드는 화면 크기에 따라 가로 배치 개수 조정
- 모바일에서는 세로 배치로 변경 가능

#### 4.5.3 사용성
- 버튼 클릭 시 명확한 피드백 제공
- 장바구니가 비어있을 때 적절한 안내 메시지 표시
- 가격 정보는 천 단위 구분 기호(쉼표) 사용
- 옵션 선택 상태가 명확하게 표시됨

### 4.6 데이터 구조

#### 4.6.1 메뉴 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  image: string,
  options: [
    {
      id: number,
      name: string,
      price: number
    }
  ]
}
```

#### 4.6.2 장바구니 아이템 데이터
```javascript
{
  menuId: number,
  menuName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      optionPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

#### 4.6.3 주문 데이터
```javascript
{
  items: [
    {
      menuId: number,
      menuName: string,
      basePrice: number,
      selectedOptions: Array,
      quantity: number,
      totalPrice: number
    }
  ],
  totalAmount: number,
  orderDate: Date
}
```

## 5. 관리자 화면 PRD

### 5.1 화면 개요
관리자가 주문을 관리하고 재고를 조정할 수 있는 관리자 전용 화면입니다.

### 5.2 화면 구성

#### 5.2.1 헤더 영역
- **위치**: 화면 상단
- **구성 요소**:
  - **로고**: 왼쪽에 "COZY" 텍스트가 들어간 다크 그린 배경의 박스
  - **주문하기 버튼**: 로고 오른쪽에 위치 (주문하기 화면으로 이동)
  - **관리자 버튼**: 주문하기 버튼 오른쪽에 위치 (현재 화면이므로 활성화 상태, 다크 테두리로 표시)

#### 5.2.2 관리자 대시보드 영역
- **위치**: 헤더 아래, 화면 상단
- **레이아웃**: 연한 회색 테두리 박스로 구분
- **구성 요소**:
  1. **제목**: "관리자 대시보드" 텍스트
  2. **주문 통계 요약**:
     - 형식: "총 주문 X / 주문 접수 X / 제조 중 X / 제조 완료 X"
     - 각 상태별 주문 개수를 한 줄로 표시
     - 실시간으로 업데이트됨

#### 5.2.3 재고 현황 영역
- **위치**: 관리자 대시보드 아래
- **레이아웃**: 연한 회색 테두리 박스로 구분
- **구성 요소**:
  1. **제목**: "재고 현황" 텍스트
  2. **재고 카드 목록**:
     - 메뉴별로 카드를 가로로 배치
     - 각 카드 구성:
       - **메뉴명**: 카드 상단에 표시 (예: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼")
       - **재고 수량**: 메뉴명 아래에 표시 (예: "10개")
       - **수량 조정 버튼**: 카드 하단에 "+" 버튼과 "-" 버튼 배치

#### 5.2.4 주문 현황 영역
- **위치**: 재고 현황 아래, 화면 하단
- **레이아웃**: 연한 회색 테두리 박스로 구분
- **구성 요소**:
  1. **제목**: "주문 현황" 텍스트
  2. **주문 목록**:
     - 각 주문은 하나의 행으로 표시
     - 주문 정보 구성:
       - **주문 시간**: 왼쪽에 표시 (예: "7월 31일 13:00")
       - **주문 내역**: 주문 시간 옆에 표시 (예: "아메리카노(ICE) x 1")
       - **주문 금액**: 주문 내역 옆에 표시 (예: "4,000원")
       - **액션 버튼**: 오른쪽에 위치 (예: "주문 접수" 버튼)
     - 주문이 여러 개일 경우 세로로 나열

### 5.3 기능 요구사항

#### 5.3.1 대시보드 통계 조회
- 서버에서 주문 통계를 조회하여 실시간으로 표시
- 통계 항목:
  - **총 주문**: 전체 주문 개수
  - **주문 접수**: 접수된 주문 개수
  - **제조 중**: 현재 제조 중인 주문 개수
  - **제조 완료**: 제조가 완료된 주문 개수
- 주문 상태가 변경될 때마다 자동으로 업데이트

#### 5.3.2 재고 관리
- **재고 조회**: 서버에서 각 메뉴의 현재 재고 수량을 조회하여 표시
- **재고 증가**: "+" 버튼 클릭 시 해당 메뉴의 재고 수량 1 증가
- **재고 감소**: "-" 버튼 클릭 시 해당 메뉴의 재고 수량 1 감소
- **재고 업데이트**: 재고 변경 시 즉시 서버에 반영하고 화면에 업데이트
- **재고 제한**: 재고가 0일 때 "-" 버튼 비활성화 (선택 사항)

#### 5.3.3 주문 현황 관리
- **주문 목록 조회**: 서버에서 주문 목록을 조회하여 표시
  - 주문 시간순으로 정렬 (최신 주문이 위에 표시)
  - 각 주문의 상세 정보 표시
- **주문 상태 변경**:
  - "주문 접수" 버튼 클릭 시 주문 상태를 "주문 접수"로 변경
  - 주문 상태에 따라 버튼 텍스트 변경 가능 (예: "제조 중", "제조 완료")
- **주문 상세 정보 표시**:
  - 주문 시간, 주문 내역(메뉴명, 수량), 주문 금액 표시
  - 옵션이 있는 경우 옵션 정보도 표시 (선택 사항)

#### 5.3.4 화면 이동
- "주문하기" 버튼 클릭 시 주문하기 화면으로 이동

### 5.4 사용자 플로우

#### 5.4.1 재고 관리 플로우
1. 관리자가 관리자 화면에 진입
2. 재고 현황 영역에서 각 메뉴의 현재 재고 확인
3. 재고를 조정해야 할 경우:
   - 재고 증가: "+" 버튼 클릭
   - 재고 감소: "-" 버튼 클릭
4. 변경된 재고가 즉시 화면에 반영됨

#### 5.4.2 주문 처리 플로우
1. 관리자가 관리자 화면에 진입
2. 관리자 대시보드에서 전체 주문 통계 확인
3. 주문 현황 영역에서 새로운 주문 확인
4. "주문 접수" 버튼 클릭하여 주문 접수
5. 주문 상태에 따라 추가 액션 수행 (제조 중, 제조 완료 등)
6. 대시보드 통계가 자동으로 업데이트됨

### 5.5 UI/UX 요구사항

#### 5.5.1 디자인
- 주문하기 화면과 일관된 디자인 스타일 유지
- 깔끔하고 미니멀한 디자인
- 흰색 배경에 다크 그레이 텍스트와 아웃라인
- 각 섹션은 연한 회색 테두리로 구분
- 활성화된 버튼은 다크 테두리로 표시

#### 5.5.2 반응형
- 재고 카드는 화면 크기에 따라 가로 배치 개수 조정
- 모바일에서는 세로 배치로 변경 가능
- 주문 목록은 화면 크기에 따라 레이아웃 조정

#### 5.5.3 사용성
- 버튼 클릭 시 명확한 피드백 제공
- 재고 수량 변경 시 즉시 화면에 반영
- 주문 상태 변경 시 대시보드 통계 자동 업데이트
- 주문이 없을 때 적절한 안내 메시지 표시
- 가격 정보는 천 단위 구분 기호(쉼표) 사용

#### 5.5.4 실시간 업데이트
- 새로운 주문이 들어오면 주문 현황에 자동으로 추가
- 주문 상태 변경 시 대시보드 통계 자동 갱신
- 주기적인 폴링 또는 실시간 업데이트 방식 사용 (선택 사항)

### 5.6 데이터 구조

#### 5.6.1 재고 데이터
```javascript
{
  menuId: number,
  menuName: string,
  stock: number
}
```

#### 5.6.2 주문 상태 데이터
```javascript
{
  orderId: number,
  orderDate: Date,
  items: [
    {
      menuId: number,
      menuName: string,
      quantity: number,
      price: number,
      selectedOptions: Array
    }
  ],
  totalAmount: number,
  status: 'pending' | 'received' | 'preparing' | 'completed'
}
```

#### 5.6.3 대시보드 통계 데이터
```javascript
{
  totalOrders: number,
  receivedOrders: number,
  preparingOrders: number,
  completedOrders: number
}
```

### 5.7 주문 상태 관리

#### 5.7.1 주문 상태 정의
- **pending**: 주문 대기 (주문이 생성되었지만 아직 접수되지 않음)
- **received**: 주문 접수 (관리자가 주문을 접수함)
- **preparing**: 제조 중 (현재 제조 중인 상태)
- **completed**: 제조 완료 (제조가 완료되어 제공 가능한 상태)

#### 5.7.2 상태 변경 플로우
1. 사용자가 주문하면 상태는 "pending"
2. 관리자가 "주문 접수" 버튼 클릭 시 "received"로 변경
3. 관리자가 "제조 중" 버튼 클릭 시 "preparing"로 변경 (선택 사항)
4. 관리자가 "제조 완료" 버튼 클릭 시 "completed"로 변경 (선택 사항)